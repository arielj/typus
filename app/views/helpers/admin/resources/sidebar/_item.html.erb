<% if @item && @item.persisted? %>

  <%
     item_actions = {
       edit: { message: t('typus.buttons.edit'), icon: 'edit' },
       show: { message: t('typus.buttons.show'), icon: 'info-sign' },
       destroy: { message: t('typus.buttons.destroy'), icon: 'remove' },
     }
  %>

  <h3><%= t('typus.sidebar.entry') %></h3>

  <ul class="nav nav-pills nav-stacked">
    <% item_actions.each do |key, value| %>
      <% if admin_user.can?(key.to_s, @resource.model_name) %>
        <li class="<%= action_name.to_sym.eql?(key) ? 'active' : 'inactive' %>">
          <%= link_to url_for(action: key, id: @item.id), data: value[:data] do %>
            <span class="glyphicon glyphicon-<%= value[:icon] %>"></span>
            <%= value[:message] %>
          <% end %>
        </li>
      <% end %>
    <% end %>
    <% resources_actions_for_current_role.map do |body, url, options| %>
      <li class="<%= action_name.eql?(body.underscore.gsub(' ','_')) ? 'active' : 'inactive' %>">
        <%= link_to t(body), params.merge(url).permit!, options %>
      </li>
    <% end %>
  </ul>

<% end %>
